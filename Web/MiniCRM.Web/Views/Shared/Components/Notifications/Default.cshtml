@model IEnumerable<MiniCRM.Web.ViewModels.Notifications.NotificationViewModel>

@foreach (var notification in Model)
{
    var timeSince = DateTime.UtcNow.Subtract(notification.CreatedOn).TotalMinutes;
    <a href="#" class="dropdown-item" title="View more">
        <p class="col-12">
            <i class="fas fa-envelope mr-2"></i>@notification.Content
            <br />

            @if (timeSince >= 60)
            {
                if (timeSince >= 1440)
                {
                    <small>@DateTime.UtcNow.Subtract(notification.CreatedOn).TotalDays.ToString("f0") days ago</small>
                }
                else
                {
                    <small>@DateTime.UtcNow.Subtract(notification.CreatedOn).TotalHours.ToString("f0") hours ago</small>
                }
            }
            else
            {
                if (timeSince < 1)
                {
                    <small>@DateTime.UtcNow.Subtract(notification.CreatedOn).TotalSeconds.ToString("f0") seconds ago</small>
                }
                else
                {
                    <small>@timeSince.ToString("f0") mins ago</small>
                }
            }
            <div class="col-md-2">
                <form asp-area="" asp-controller="Notifications" asp-action="See" method="post" id="deleteForm">
                    <input type="text" name="notificationId" value="@notification.Id" hidden />
                    <button class="btn btn-warning float-right">
                        See
                    </button>
                </form>
            </div>
        </p>
    </a>
    <div class="dropdown-divider"></div>
}
